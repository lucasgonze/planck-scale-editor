<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>skratchpad - minimalist privacy-first editor</title>
    <meta name="description" content="minimalist privacy-first editor for use as a scratchpad">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta property="og:title" content="Skratchpad">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://sQratchpad.xyz">

    <style type="text/css" media="screen">

      body {
        font-family:Arial, Helvetica, sans-serif;
        padding: 1em;
        text-align: left;
      }
      article.editor, article.sans-serif, article.serif, article.monospace {
        margin: 2em;
        padding: 1em;
        max-width: 60em;
      }
      p#counter {
        text-align: right;
        padding-right: 1  em;
      }

      @media (width <= 80em) {
        article.editor {
          margin: 1em;
          padding: 1em;
          max-width: 60em;
        }
      }

      [data-placeholder]:empty:before{
        content: attr(data-placeholder);
        font-style: italic;
      }

      div#switches {
        text-align: right;
        padding-right: 1em;
      }
      article.sans-serif { font-family: sans-serif; }
      article.serif { font-family: serif; }
      article.monospace { font-family: monospace; }
    </style>

    <script type="text/javascript">
      window.addEventListener("load", (event) => {
        console.log("page is fully loaded");

        el = document.getElementsByTagName('article')[0];
        el.focus({ focusVisible: true });
        el.addEventListener("input", (event) => {
          len = el.innerText.trim().length;
          document.getElementById("counter").innerText = len;
        });

        document.getElementById('switches').addEventListener("change",() => {
          document.getElementById('mcguffin').className =
            document.getElementById('font-select').value
        });

      });
    </script>

  </head>

  <body onload="">

    <nav class="top">
      <a href="https://github.com/lucasgonze/sqratchpad">sQratchpad</a>
    </nav>

    <div id="switches">
      <label for="font-select">font:</label>
      <select name="font" id="font-select">
        <option value="sans-serif">sans-serif</option>
        <option value="serif">serif</option>
        <option value="monospace">monospace</option>
      </select>
    </div>

    <article
      class="editor"
      contenteditable
      data-placeholder="Edit this placeholder"
      id="mcguffin"
      ></article>
      <p id="counter"></p>

  </body>

</html>
